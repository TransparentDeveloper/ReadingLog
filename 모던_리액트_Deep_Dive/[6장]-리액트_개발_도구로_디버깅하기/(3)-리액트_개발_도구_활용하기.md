# 리액트 개발 도구 활용하기

## 컴포넌트
- 크롬 개발자 도구 중, `Component` 탭을 확인하면 컴포넌트 트리를 확인할 수 있다.
- 컴포넌트 구조뿐만 아니라 props 와 hooks 등 정보도 제공된다.

<br/>

### 컴포넌트 트리

리액트 애플리케이션의 전체 컴포넌트 구조 및 구성

> - 기명함수로 선언된 컴포넌트의 경우, 명시된 이름이 그대로 표시된다.
>   - 함수 선언식, 함수 표현식 가리지 않는다.

> - 익명함수로 선언된 컴포넌트의 경우, 'Anonymous' 라는 이름으로 표시된다.
>   - 만약 익명함수를 default export 했다면 '_default' 로 표시된다.

> - React.memo 로 감싼 컴포넌트의 경우, 기본적으로 'Anonymous' 로 표시되나, memo 라는 라벨이 붙는다. 
>   - displayName 속성에 컴포넌트명을 제대로 입력한다면, 제대로 출력된다.
>
>   ```tsx
>   const MemoComponent = React.memo(()=>{
>     //...(생략)...
>   })
>
>   MemoComponent.displayName = "MemoComponent"
>   ```

> - 고차 컴포넌트 역시, 'Anonymous' 로 표시된다.
 
<br/>

### 컴포넌트명과 props

특정 컴포넌트에 대한 자세한 정보를 확인할 수 있다.

<br/>

#### 컴포넌트명과 Key
- 컴포넌트 이름과 kidValueProps 라는 객체값이 표시된다.
  - kidValueProps 가 key 다.
  - strict mode 로 랜더링되지 않은 경우, 경고 이모티콘이 보인다.

<br/>

#### 컴포넌트 도구
- 우측 상단에 3개의 아이콘이 있는 각 기능은 다음과 같다.
  - 👁️(눈 아이콘): 해당 컴포넌트가 스크린상에서, 그리고 HTML 상에서 위치한 곳을 확인할 수 있다.
  - 🐞(벌레 아이콘): 해당 컴포넌트의 정보가 console.log 를 통해 기록된다.
  - ＜＞(소스코드 아이콘): 컴포넌트의 소스코드를 개발자 도구 패널 상에서 확인할 수 있다.

<br/>

#### 컴포넌트 props
- 해당 컴포넌트의 props 를 확인할 수 있다.

<br/>

#### 컴포넌트 hooks
- 해당 컴포넌트에서 사용 중인 훅 정보를 볼 수 있다.
- 'use-' 접두사는 생략되어 출력된다.
- 훅의 콜백을 기명함수로 작성할 경우, 해당 이름 또한 출력된다.
  - 콜백함수를 거의 무조건 사용하는 훅인 useEffect 의 경우, 한 컴포넌트 내에서 여러개를 사용한다면 식별하기 어려워진다. 
  - 이럴 경우, 콜백에 기명함수를 사용하는게 도움이 될 수 있다.

<br/>

#### 컴포넌트를 랜더링한 주체, render by
- 해당 컴포넌트를 랜더링한 주체가 누구인지 확인할 수 있다.
- 프로덕션 모드에서는 react-dom 버전만 확인 가능하다.
- 개발 모드라면 부모 컴포넌트까지 확인할 수 있다.

<br/>

## 프로파일러

- 리액트가 랜더링하는 과정에서 발생하는 상황을 확인하기 위한 도구다.
- 몇 차례나 랜더링이 일어났는지, 어떤 작업이 오래 걸렸는지 등
- 개발 모드에서만 사용할 수 있다.

<br/>

### 프로파일링

#### 프로파일링 메뉴
- 랜더링할 때 어떠한 일이 벌어지는 확인할 수 있는 도구다.

> **1. Start Profiling**
> 
> - 프로파일링 시작
> - 다시 누르면 프로파일링이 중단된다. 

> **2. Reload and Start profiling**
>
> - 새로고침 후 프로파일링 시작
> - Start Profiling 버튼을 누르면 중단된다.

> **3. Stop Profiling**
>
> - 프로파일링된 현재 내용을 모두 지운다.

> **4. Load Profile**
>
> - 프로파일링 결과를 불러온다.

> **5. Save Profile**
>
> - 프로파일링 결과를 저장한다.
> - JSON 파일로 다운로드 할 수 있다.


<br/>

#### Flamegraph

- 너비가 넓은 바(bar) 일수록, 컴포넌트 랜더링에 오랜 걸렸음을 의미한다.
- 랜더링되지 않은 컴포넌트에 대한 정보도 확인할 수 있다.
  - 이 경우, 'Did not render' 라는 메시지가 표시된다.

<br/>

#### Ranked
- 랜더링이 오래 걸린 컴포넌트를 순서대로 나열한 그래프이다.
- 랜더링이 일어난 컴포넌트만 정렬하여 보여준다.

<br/>

### 타임라인
- 시간의 흐름에 따라 리액트가 작동하는 내용을 추적하는 데 유용하다.
  - 가령 input 에 글자를 입력하는 동안, state 값의 업데이트 정보 등을 확인할 수 있다.